const mbtiPepTalks = {
    "INTJ": ["완벽함을 추구하는 건 좋지만, 영원히 계획만 세우다 끝날 수 있어.", "감정적으로 피드백을 받지 말고, 논리적으로 분석하세요."],
    "ENTP": ["아이디어가 아무리 많아도 실행하지 않으면 무의미합니다.", "모든 아이디어가 다 좋은 건 아닙니다. 걸러내는 능력도 필요합니다."],
    "INFJ": ["모든 사람을 구원할 수는 없습니다. 자신부터 챙기세요.", "완벽함에 집착하지 마세요. 충분히 잘하고 있습니다."],
    "ENTJ": ["모든 걸 통제할 수는 없습니다. 유연함도 전략입니다.", "당신의 비전이 타인의 비전과 다를 수 있음을 인정하세요."],
    "ISTJ": ["규칙을 따르는 것도 좋지만, 유연함도 필요합니다.", "책임감이 크지만, 모든 걸 혼자 하려 하지 마세요."],
    "INFP": ["너의 감정도 소중하다는 걸 잊지 마세요.", "세상을 바꾸고 싶다면, 우선 자신의 에너지를 관리하세요."],
    "ENFP": ["모든 걸 시도할 순 없습니다. 선택과 집중이 필요합니다.", "열정도 좋지만, 지속 가능한 에너지로 바꾸세요."],
    "ISFP": ["예술적 감각이 뛰어나지만, 때로는 결과물이 필요합니다.", "지나치게 조용하다고 해서 당신의 가치는 낮아지지 않습니다."],
    "ESFP": ["즐거움도 좋지만, 때로는 계획이 필요합니다.", "즉흥적으로 모든 문제를 해결할 순 없습니다. 미리 준비하세요."],
    "INTP": ["지식이 아무리 많아도 행동이 없다면 무의미합니다.", "논리의 함정에 빠지지 마세요. 실천이 더 중요합니다."],
    "ISFJ": ["누군가를 돕는 것도 좋지만, 스스로를 먼저 돌보세요.", "과도한 책임감이 당신을 지치게 할 수 있습니다."],
    "ESFJ": ["모두를 만족시키려다 아무도 만족시키지 못할 수 있습니다.", "당신의 필요도 중요합니다. 남을 돕기 전에 자신을 돌보세요."],
    "ESTJ": ["리더십은 통제가 아니라 영감을 주는 것입니다.", "강한 의견을 가질 수 있지만, 경청도 중요한 능력입니다."],
    "ISTP": ["문제를 해결하는 것도 좋지만, 사람의 감정도 고려하세요.", "항상 독립적으로만 행동할 수는 없습니다."],
    "ESTP": ["즉흥적으로 행동하는 것도 좋지만, 장기적인 목표도 생각하세요.", "행동이 빠르다고 항상 더 나은 것은 아닙니다."]
  };
  
  exports.handler = async (event) => {
    const { mbti } = event.queryStringParameters || {};
    if (!mbti || !mbtiPepTalks[mbti.toUpperCase()]) {
      return {
        statusCode: 400,
        body: JSON.stringify({ error: 'Invalid MBTI type' })
      };
    }
    const pepTalks = mbtiPepTalks[mbti.toUpperCase()];
    const randomMessage = pepTalks[Math.floor(Math.random() * pepTalks.length)];
  
    return {
      statusCode: 200,
      body: JSON.stringify({ type: mbti.toUpperCase(), message: randomMessage })
    };
  };
  