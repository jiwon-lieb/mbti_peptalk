// require('dotenv').config();
const express = require('express');
const cors = require('cors');
const serverless = require('serverless-http');

const app = express();
// const PORT = process.env.PORT || 3000;

app.use(cors());
app.use(express.json());

/**
 * Helper function to select a random element from an array.
 * @param {Array} array 
 * @returns Random element from the array
 */
const getRandomElement = (array) => array[Math.floor(Math.random() * array.length)];

/**
 * MBTI-based pep talk collections
 */
const mbtiPepTalks = {
  "INTJ": ["ì™„ë²½í•¨ì„ ì¶”êµ¬í•˜ëŠ” ê±´ ì¢‹ì§€ë§Œ, ì˜ì›ížˆ ê³„íšë§Œ ì„¸ìš°ë‹¤ ëë‚  ìˆ˜ ìžˆì–´.", "ê°ì •ì ìœ¼ë¡œ í”¼ë“œë°±ì„ ë°›ì§€ ë§ê³ , ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ì„í•˜ì„¸ìš”."],
  "ENTP": ["ì•„ì´ë””ì–´ê°€ ì•„ë¬´ë¦¬ ë§Žì•„ë„ ì‹¤í–‰í•˜ì§€ ì•Šìœ¼ë©´ ë¬´ì˜ë¯¸í•©ë‹ˆë‹¤.", "ëª¨ë“  ì•„ì´ë””ì–´ê°€ ë‹¤ ì¢‹ì€ ê±´ ì•„ë‹™ë‹ˆë‹¤. ê±¸ëŸ¬ë‚´ëŠ” ëŠ¥ë ¥ë„ í•„ìš”í•©ë‹ˆë‹¤."],
  "INFJ": ["ëª¨ë“  ì‚¬ëžŒì„ êµ¬ì›í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ìžì‹ ë¶€í„° ì±™ê¸°ì„¸ìš”.", "ì™„ë²½í•¨ì— ì§‘ì°©í•˜ì§€ ë§ˆì„¸ìš”. ì¶©ë¶„ížˆ ìž˜í•˜ê³  ìžˆìŠµë‹ˆë‹¤."],
  "ENTJ": ["ëª¨ë“  ê±¸ í†µì œí•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ìœ ì—°í•¨ë„ ì „ëžµìž…ë‹ˆë‹¤.", "ë‹¹ì‹ ì˜ ë¹„ì „ì´ íƒ€ì¸ì˜ ë¹„ì „ê³¼ ë‹¤ë¥¼ ìˆ˜ ìžˆìŒì„ ì¸ì •í•˜ì„¸ìš”."],
  "INFP": ["ë„ˆì˜ ê°ì •ë„ ì†Œì¤‘í•˜ë‹¤ëŠ” ê±¸ ìžŠì§€ ë§ˆì„¸ìš”.", "ì„¸ìƒì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´, ìš°ì„  ìžì‹ ì˜ ì—ë„ˆì§€ë¥¼ ê´€ë¦¬í•˜ì„¸ìš”."],
  "ENFP": ["ëª¨ë“  ê±¸ ì‹œë„í•  ìˆœ ì—†ìŠµë‹ˆë‹¤. ì„ íƒê³¼ ì§‘ì¤‘ì´ í•„ìš”í•©ë‹ˆë‹¤.", "ì—´ì •ë„ ì¢‹ì§€ë§Œ, ì§€ì† ê°€ëŠ¥í•œ ì—ë„ˆì§€ë¡œ ë°”ê¾¸ì„¸ìš”."],
  "ISFP": ["ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚˜ì§€ë§Œ, ë•Œë¡œëŠ” ê²°ê³¼ë¬¼ì´ í•„ìš”í•©ë‹ˆë‹¤.", "ì§€ë‚˜ì¹˜ê²Œ ì¡°ìš©í•˜ë‹¤ê³  í•´ì„œ ë‹¹ì‹ ì˜ ê°€ì¹˜ëŠ” ë‚®ì•„ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤."],
  "ESFP": ["ì¦ê±°ì›€ë„ ì¢‹ì§€ë§Œ, ë•Œë¡œëŠ” ê³„íšì´ í•„ìš”í•©ë‹ˆë‹¤.", "ì¦‰í¥ì ìœ¼ë¡œ ëª¨ë“  ë¬¸ì œë¥¼ í•´ê²°í•  ìˆœ ì—†ìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ì¤€ë¹„í•˜ì„¸ìš”."],
  "INTP": ["ì§€ì‹ì´ ì•„ë¬´ë¦¬ ë§Žì•„ë„ í–‰ë™ì´ ì—†ë‹¤ë©´ ë¬´ì˜ë¯¸í•©ë‹ˆë‹¤.", "ë…¼ë¦¬ì˜ í•¨ì •ì— ë¹ ì§€ì§€ ë§ˆì„¸ìš”. ì‹¤ì²œì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤."],
  "ENTP": ["ë§ì´ ë§Žë‹¤ê³  ì•„ì´ë””ì–´ê°€ ì¢‹ì€ ê±´ ì•„ë‹™ë‹ˆë‹¤.", "ëŠìž„ì—†ì´ ìƒˆë¡œì›€ì„ ì¶”êµ¬í•˜ë‹¤ê°€ ì•„ë¬´ê²ƒë„ ì™„ì„±í•˜ì§€ ëª»í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."],
  "ISFJ": ["ëˆ„êµ°ê°€ë¥¼ ë•ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ, ìŠ¤ìŠ¤ë¡œë¥¼ ë¨¼ì € ëŒë³´ì„¸ìš”.", "ê³¼ë„í•œ ì±…ìž„ê°ì´ ë‹¹ì‹ ì„ ì§€ì¹˜ê²Œ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."],
  "ESFJ": ["ëª¨ë‘ë¥¼ ë§Œì¡±ì‹œí‚¤ë ¤ë‹¤ ì•„ë¬´ë„ ë§Œì¡±ì‹œí‚¤ì§€ ëª»í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.", "ë‹¹ì‹ ì˜ í•„ìš”ë„ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‚¨ì„ ë•ê¸° ì „ì— ìžì‹ ì„ ëŒë³´ì„¸ìš”."],
  "ISTJ": [
    "ì§€ê¸ˆ ë©ˆì¶”ëŠ” ê±´, 'ë‚˜ í¬ê¸°í–ˆì–´ìš”'ë¼ê³  ì™¸ì¹˜ëŠ” ê±°ëž‘ ê°™ì•„. ì§„ì§œ ê·¸ëŸ´ ê±°ì•¼?",
    "ëª¨ë“  ê·œì¹™ì„ ì§€í‚¤ëŠ” ì‚¬ëžŒë„ ê°€ë”ì€ ê·œì¹™ì„ ë°”ê¿€ ìžê²©ì´ ìžˆì–´. ë„ˆë¼ë©´ ê°€ëŠ¥í•´.",
    "ë„ˆì˜ ì±…ìž„ê°ì€ ì¸ê°„ê³„ì˜ ì‹ ë¢°ì˜ ìƒì§•ì´ì•¼. ì§€ê¸ˆ í¬ê¸°í•˜ë©´ ì‹ í™”ë¥¼ ë¶€ìˆ´ë²„ë¦¬ëŠ” ê±°ë¼ê³ !",
    "ë„¤ê°€ ì§€ê¸ˆ ê²ªê³  ìžˆëŠ” ì–´ë ¤ì›€ì€ ë¯¸ëž˜ì— 'ì „ì„¤ì˜ ì±•í„°'ë¡œ ë‚¨ì„ ê±°ì•¼. ê·¸ëƒ¥ í•´ë‚´.",
    "ëˆ„ê°€ ë­ëž˜ë„ ë„¤ê°€ í•˜ëŠ” ì¼ì´ ê°€ìž¥ ì •í™•í•˜ê³  ë¹ ë¥´ë‹¤ëŠ” ê±¸, ë„Œ ì´ë¯¸ ì•Œê³  ìžˆìž–ì•„.",
    "í‰ìƒ ì‹¤ìˆ˜ ì•ˆ í•˜ëŠ” ì‚¬ëžŒì€ ì—†ì–´. ê·¼ë° ë„Œ ì´ë¯¸ ê·¸ ì‹¤ìˆ˜ì˜ í™•ë¥ ì´ 0.001%ì•¼. ì²œìž¬ ìˆ˜ì¤€ì´ë¼ê³ .",
    "ë‚¨ë“¤ì´ ë­ë¼ê³  í•˜ë“ , ë„Œ ëê¹Œì§€ ì±…ìž„ì„ ì§€ëŠ” ì‚¬ëžŒì´ì•¼. ê·¸ê²Œ ë°”ë¡œ 'í´ëž˜ìŠ¤ ì°¨ì´'ë¼ëŠ” ê±°ì•¼.",
    "í˜¼ìž ë‹¤ í•˜ë ¤ í•˜ì§€ ë§ˆ. ê·¸ê±´ 'ì˜ì›… ì„œì‚¬'ì—ì„œë‚˜ ë‚˜ì˜¤ëŠ” ê±°ì•¼. ì§€ê¸ˆì€ íŒ€í”Œì´ì•¼.",
    "ì™„ë²½ì„ ì¶”êµ¬í•˜ëŠ” ê±´ ì¢‹ì§€ë§Œ, 99%ë„ ì„¸ìƒì—ì„  ì™„ë²½ìœ¼ë¡œ í†µí•œë‹¤ê³ !",
    "í•œ ë²ˆ í•´ë³´ìž. ì–´ì°¨í”¼ ë„Œ ê·¸ê±¸ ëê¹Œì§€ í•´ë‚¼ ì‚¬ëžŒì¸ ê±° ë‹¤ ì•Œì•„.",
    "ISTJí•œí…Œ 'í¬ê¸°'ë¼ëŠ” ë‹¨ì–´ë¥¼ êº¼ë‚´ëŠ” ê±´ ìš•í•˜ëŠ” ê±°ëž‘ ë˜‘ê°™ì•„. ì•Œì§€?",
    "ë…¼ë¦¬ëŠ” ë„¤ ë¬´ê¸°ì•¼. ê·¼ë° ê°€ë”ì€ 'ê°ì •ì  ë…¼ë¦¬'ê°€ ë” ë¹ ë¥´ë‹¤.",
    "ë„ˆëŠ” 'ë§ˆê°ì˜ ì‹ 'ì´ìž–ì•„. ë§ˆê°ì„ ì´ê¸´ ì‚¬ëžŒì€ í•­ìƒ ìŠ¹ë¦¬í•˜ëŠ” ë²•ì´ì•¼.",
    "ì§€ê¸ˆ ë„¤ê°€ ë§Œë“  ì´ ì‹œìŠ¤í…œì€ 100ë…„ ë’¤ì—ë„ ëŒì•„ê°ˆ ê±°ì•¼. ê·¸ë§Œí¼ ì™„ë²½í•´.",
    "ì§€ê¸ˆ ë„ˆë¬´ íž˜ë“¤ì§€? ê·¸ëŸ¼ ìž ê¹ ì‰¬ì–´ë„ ë¼. ë‹¨, 'ì‰¬ëŠ” ê²ƒë„ ê³„íšì— í¬í•¨ì‹œí‚¨ë‹¤'ëŠ” ì¡°ê±´ìœ¼ë¡œ.",
    "ì‹¤ìˆ˜í–ˆë‹¤ê³ ? ê·¸ëŸ¼ ë­? ê·¸ê±¸ ê³ ì¹  ì‚¬ëžŒì€ 'ë„ˆë¿'ì´ë‹ˆê¹Œ ë” ë©‹ì§„ ê±°ì•¼.",
    "ì±…ìž„ê°ì´ ë„ˆë¬´ í¬ë‹¤ê³ ? ë§žì•„, ê·¸ ì±…ìž„ì€ 'ë ˆì „ë“œ'ì—ê²Œë§Œ ì£¼ì–´ì§€ëŠ” íŠ¹ê¶Œì´ê±°ë“ .",
    "í•˜ë˜ ê±° ë©ˆì¶”ê³  ì‹¶ì€ ë§ˆìŒ ë“¤ì§€? ê·¸ëŸ¼ ì´ë ‡ê²Œ ìƒê°í•´: 'ì´ê±¸ ëë‚´ë©´ ë‚˜ëŠ” ì „ì„¤ì´ ëœë‹¤.'",
    "ëˆ„ê°€ ë­ëž˜ë„ ë„ˆë§Œí¼ ë˜‘ë¶€ëŸ¬ì§€ê²Œ ì²˜ë¦¬í•  ì‚¬ëžŒì€ ì—†ì–´. ê·¸ê²Œ 'íŒ©íŠ¸'ì•¼.",
    "ì–´ë ¤ì›€ì€ ì „ì„¤ì˜ ì„œì‚¬ì— í•„ìˆ˜ ìš”ì†Œì•¼. ì–´ë ¤ì›€ ì—†ì´ ì´ê¸°ëŠ” ì´ì•¼ê¸°ëŠ” ë‹¤ë“¤ ìžŠì–´ë²„ë ¤.",
    "ë„¤ê°€ ë§Œë“  ê·¸ ì—‘ì…€ íŒŒì¼? ê·¸ê±´ ì˜ˆìˆ  ìž‘í’ˆì´ì•¼. ë‹¤ì‹œ ë´ë„ ì™„ë²½í•´.",
    "ì‚¬ì†Œí•œ ë””í…Œì¼ í•˜ë‚˜ì— ëª©ìˆ¨ ê±°ëŠ” ë„¤ ì„±ê²©ì´? ì‚¬ì‹¤ ê·¸ê²Œ ë„¤ ìŠˆí¼íŒŒì›Œì•¼.",
    "ë„ˆëŠ” 'ê¸°ë¡ì˜ ë‹¬ì¸'ì´ìž–ì•„. ê³¼ê±° ê¸°ë¡ë“¤ì„ ë‹¤ ê¸°ì–µí•˜ëŠ” ê²Œ ì–¼ë§ˆë‚˜ ëŒ€ë‹¨í•œ ëŠ¥ë ¥ì¸ì§€ ì•„ëƒ?",
    "í•œ ë²ˆì´ë¼ë„ ë„¤ê°€ ì¼ì„ ëŒ€ì¶© í•˜ëŠ” ê±¸ ë³¸ ì  ìžˆëƒ? ì—†ë‹¤. ê·¸ê²Œ ë„ˆì˜ í´ëž˜ìŠ¤ì•¼.",
    "ëª¨ë‘ê°€ ë’¤ëŒì•„ë´ë„ ë„Œ ë˜‘ê°™ì´ ì•žìœ¼ë¡œë§Œ ê°€ìž–ì•„. ê·¸ê²Œ ìŠ¹ìžì˜ ìžì„¸ë‹¤.",
    "ë‹¤ë“¤ ê·¸ëƒ¥ ëŒ€ì¶©í•  ë•Œ, ë„Œ 'í‘œì¤€ ì ˆì°¨'ë¥¼ ë§Œë“¤ì–´ëƒˆì–´. ê·¸ê²Œ ì§„ì§œ í”„ë¡œì•¼.",
    "ë„ˆëŠ” ì‹¤íŒ¨í•  í™•ë¥ ì´ 0.01%ì•¼. ë‹¤ë¥¸ ì‚¬ëžŒì€ 50%ê±°ë“ . ê·¸ê²Œ ë ˆë²¨ ì°¨ì´ì•¼.",
    "ì–´ì œë³´ë‹¤ ì˜¤ëŠ˜ì´ ë” ì„±ìž¥í•œ ì´ìœ ëŠ” ë„¤ê°€ ì ˆëŒ€ í•˜ë£¨ë„ ëŒ€ì¶© ë³´ë‚´ì§€ ì•Šê¸° ë•Œë¬¸ì´ì•¼.",
    "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë¼. í•˜ì§€ë§Œ ë„Œ í•­ìƒ 99% ì™„ë²½í•˜ë‹ˆê¹Œ ê´œì°®ì•„.",
    "ëˆ„ê°€ ë­ëž˜ë„ 'í•œ ë²ˆì— ì œëŒ€ë¡œ í•˜ëŠ” ì‚¬ëžŒ'ì€ ë„ˆë°–ì— ì—†ì„ê±¸?",
    "ë‹¤ë“¤ 'ì´ê±´ ëª»í•  ê²ƒ ê°™ì•„' í•  ë•Œ, ë„Œ ì´ë¯¸ í•´ë‚´ê³  ìžˆì—ˆì§€. ê·¸ê²Œ ì°¨ì´ì•¼.",
    "ë¦¬ë” ì—†ì´ë„ íŒ€ì„ êµ´ëŸ¬ê°€ê²Œ ë§Œë“œëŠ” ì‚¬ëžŒ? ë°”ë¡œ ë„ˆì•¼.",
    "íž˜ë“¤ ë• 'ì™„ë²½í•  í•„ìš” ì—†ë‹¤'ê³  ìƒê°í•´. í•˜ì§€ë§Œ ë„ˆëŠ” ì–´ì°¨í”¼ ì™„ë²½í•˜ê²Œ í•´ë‚´ìž–ì•„.",
    "ì±…ìž„ì„ íšŒí”¼í•˜ì§€ ì•ŠëŠ” ê±´, ì–´ì©Œë©´ ë„¤ê°€ ê°€ì§„ ê°€ìž¥ ìœ„ëŒ€í•œ ëŠ¥ë ¥ì¼ì§€ë„ ëª°ë¼.",
    "ëª¨ë‘ê°€ ìž ë“¤ì—ˆì„ ë•Œ í˜¼ìž ì¼í•˜ëŠ” ê·¸ ëª¨ìŠµ? ì „ì„¤ì˜ ì‹œìž‘ì´ì—ˆì–´.",
    "ë„¤ê°€ ì•„ë‹ˆë©´ ëˆ„ê°€ ì´ ì¼ì„ í•˜ê² ì–´? ì§„ì§œë¡œ, ê·¸ ëˆ„ê°€? ì—†ìž–ì•„.",
    "ì–¸ì  ê°€ 'ISTJ ì „ì„¤'ì´ë¼ëŠ” ì±…ì´ ë‚˜ì˜¤ë©´, 1ìž¥ì— ë„¤ ì´ë¦„ì´ ë“¤ì–´ê°ˆ ê±°ì•¼.",
    "ì‹¤ìˆ˜í–ˆë‹¤ê³  ê±±ì •í•  í•„ìš” ì—†ì–´. ë„Œ í•­ìƒ ë” ë‚˜ì€ ë²„ì „ì„ ë§Œë“œëŠ” ì‚¬ëžŒì´ë‹ˆê¹Œ.",
    "íž˜ë“¤ ë•Œ ë– ì˜¬ë ¤. ì§€ê¸ˆê¹Œì§€ í•´ì˜¨ ëª¨ë“  ì¼ì´ ë‹¤ 'ì™„ë²½í•œ ê²°ê³¼ë¬¼'ì´ì—ˆë‹¤ëŠ” ê±¸.",
    "ì–´ì©Œë©´ ë„¤ ì¸ìƒ ìžì²´ê°€ 'ì ˆì°¨ì˜ êµê³¼ì„œ'ì¼ì§€ë„ ëª°ë¼. ê·¸ ì •ë„ë¡œ ëŒ€ë‹¨í•´.",
    "ì¡°ìš©ížˆ ë¬µë¬µížˆ ì¼í•˜ëŠ” ì‚¬ëžŒë“¤ì´ ì œì¼ ê°•í•œ ë²•ì´ì•¼. ë„ˆì²˜ëŸ¼ ë§ì´ì•¼.",
    "ëˆ„êµ¬ë³´ë‹¤ ê¼¼ê¼¼í•˜ê³  ì •í™•í•œ ë„ˆì˜ ëŠ¥ë ¥ ë•ë¶„ì— ë‹¤ë“¤ ì•ˆì‹¬í•˜ê³  ìžˆì–´.",
    "ë„ˆëŠ” ëê¹Œì§€ ì±…ìž„ì§€ëŠ” ì‚¬ëžŒì˜ ìƒì§•ì´ì•¼. ì‚¬ëžŒë“¤ì€ ê·¸ê±¸ ì ˆëŒ€ ìžŠì§€ ì•Šì•„.",
    "ì™„ë²½ì£¼ì˜ìžë¼ê³  ë¶ˆë¦¬ëŠ” ê²Œ ê°€ë” ë¶€ë‹´ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìžˆì–´. í•˜ì§€ë§Œ ê·¸ê±´ ë„¤ ëŠ¥ë ¥ì— ëŒ€í•œ ì°¬ì‚¬ì•¼.",
    "ëª¨ë‘ê°€ ì‰½ê²Œ í¬ê¸°í•  ë•Œ, ë„Œ ì´ë¯¸ 10ë‹¨ê³„ ì•žì„œ ìžˆì—ˆì§€. ê·¸ê²Œ ì°¨ì´ì§€.",
    "ê¸°ë¡, ì ˆì°¨, ì‹œìŠ¤í…œ. ì´ ëª¨ë“  ê±¸ ë‹¤ë£¨ëŠ” ì²œìž¬ê°€ ëˆ„êµ¬ì•¼? ë°”ë¡œ ë„ˆì§€.",
    "100ëª… ì¤‘ 1ëª…ë§Œ í•  ìˆ˜ ìžˆëŠ” ì¼ì„ í•˜ëŠ” ì‚¬ëžŒì€ íŠ¹ë³„í•œ ê±°ì•¼. ë„ˆì²˜ëŸ¼.",
    "ì–´ë–¤ ì‹œìŠ¤í…œì„ ë§¡ê²¨ë„ ë„¤ ì†ì„ ê±°ì¹˜ë©´ 'ì™„ë²½í•œ ë§¤ë‰´ì–¼'ì´ ë‚˜ì™€.",
    "ëˆ„êµ°ê°€ 'ì´ê±¸ í•´ë‚¼ ì‚¬ëžŒì€ ì—†ì–´'ë¼ê³  ë§í•  ë•Œ, ë„Œ ì´ë¯¸ í•´ë‚´ê³  ìžˆì–´.",
    "ì±…ìž„ì§€ëŠ” ì‚¬ëžŒì€ ë§Žì§€ ì•Šì•„. ê·¼ë° ë„Œ ê·¸ê±¸ ë§¤ì¼ í•´ë‚´ê³  ìžˆì–´.",
    "ëª¨ë“  íŒ€ì—ëŠ” ìµœì†Œ 1ëª…ì˜ ISTJê°€ í•„ìš”í•´. ê·¸ê²Œ ì—†ìœ¼ë©´ ë‹¤ ë¬´ë„ˆì ¸.",
    "100ê°€ì§€ ë³€ëª…ì´ ìžˆì–´ë„ ë„Œ ë‹¨ í•˜ë‚˜ì˜ í–‰ë™ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ì‚¬ëžŒì´ì•¼.",
    "ëª¨ë‘ê°€ 'ëŒ€ì¶© í•´'ë¼ê³  ë§í•  ë•Œ, ë„Œ 'ëŒ€ì¶©'ì´ ë­”ì§€ë„ ëª°ë¼.",
    "ë„¤ê°€ ê³ ì³ë†“ì€ ì‹œìŠ¤í…œì€ ì•„ë¬´ë„ ì†ëŒˆ í•„ìš”ê°€ ì—†ì–´. ê·¸ë§Œí¼ ì™„ë²½í•´.",
    "ëª¨ë‘ê°€ 'ì´ê±´ ë¶ˆê°€ëŠ¥í•´'ë¼ê³  í•  ë•Œ, ë„Œ 'ì‹œë„í•´ë³´ìž'ë¼ê³  ë§í•˜ëŠ” ì‚¬ëžŒì´ì•¼.",
    "íŒ€ì—ì„œ ì—†ì–´ì§€ë©´ ì œì¼ ë¨¼ì € í‹° ë‚˜ëŠ” ì‚¬ëžŒ? ë„ˆì§€. ê·¸ë§Œí¼ ì¤‘ìš”í•œ ì‚¬ëžŒì´ì•¼.",
    "ëª¨ë‘ê°€ í¬ê¸°í–ˆì–´ë„, ë„Œ ë¬µë¬µížˆ ëê¹Œì§€ í•´ëƒˆì–´. ê·¸ê²Œ ìŠ¹ìžì˜ ìžì§ˆì´ì•¼.",
    "ì§€ê¸ˆ íž˜ë“¤ì–´ë„, ê·¸ê±¸ ì´ê²¨ë‚´ëŠ” ê³¼ì •ì´ ë°”ë¡œ 'ë ˆì „ë“œì˜ ì„œì‚¬'ì•¼.",
    "ë„¤ê°€ ë§Œë“  ê¸°ë¡ë¬¼, ì ˆì°¨ì„œ, ë§¤ë‰´ì–¼ì€ í›„ì„¸ì—ê²Œ ì „í•´ì§ˆ ê±°ì•¼.",
    "ëª¨ë‘ê°€ ì‰¬ê³  ìžˆì„ ë•Œë„, ë„Œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê³ ë¯¼í•˜ê³  ìžˆì—ˆì–´.",
    "ì–´ë ¤ìš¸ ë•Œì¼ìˆ˜ë¡ ë„ˆì˜ ì§„ê°€ê°€ ë“œëŸ¬ë‚˜. ê·¸ê²Œ ISTJì˜ ë²•ì¹™ì´ì•¼."],
  "ESTJ": ["ë¦¬ë”ì‹­ì€ í†µì œê°€ ì•„ë‹ˆë¼ ì˜ê°ì„ ì£¼ëŠ” ê²ƒìž…ë‹ˆë‹¤.", "ê°•í•œ ì˜ê²¬ì„ ê°€ì§ˆ ìˆ˜ ìžˆì§€ë§Œ, ê²½ì²­ë„ ì¤‘ìš”í•œ ëŠ¥ë ¥ìž…ë‹ˆë‹¤."],
  "ISTP": ["ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ, ì‚¬ëžŒì˜ ê°ì •ë„ ê³ ë ¤í•˜ì„¸ìš”.", "í•­ìƒ ë…ë¦½ì ìœ¼ë¡œë§Œ í–‰ë™í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤."],
  "ESTP": ["ì¦‰í¥ì ìœ¼ë¡œ í–‰ë™í•˜ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ, ìž¥ê¸°ì ì¸ ëª©í‘œë„ ìƒê°í•˜ì„¸ìš”.", "í–‰ë™ì´ ë¹ ë¥´ë‹¤ê³  í•­ìƒ ë” ë‚˜ì€ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤."]
};

// Route for MBTI pep talks
app.get('/api/peptalk/:mbti', (req, res) => {
  const { mbti } = req.params;
  const mbtiUpper = mbti.toUpperCase();
  if (!mbtiPepTalks[mbtiUpper]) {
    return res.status(404).json({ error: 'MBTI type not found' });
  }
  const randomPepTalk = getRandomElement(mbtiPepTalks[mbtiUpper]);
  res.json({ 
    type: mbtiUpper, 
    message: randomPepTalk 
  });
});

// Root Route
app.get('/', (req, res) => {
  res.send(`
    <h1>ðŸŒŸ Welcome to the MBTI Pep Talk API! ðŸŒŸ</h1>
    <p>Available endpoints:</p>
    <ul>
      <li><a href="/api/peptalk/INTJ">/api/peptalk/INTJ</a> - Logical, INTJ pep talk</li>
      <li><a href="/api/peptalk/ENTP">/api/peptalk/ENTP</a> - Bold, ENTP pep talk</li>
      <li><a href="/api/peptalk/INFJ">/api/peptalk/INFJ</a> - Deep, INFJ pep talk</li>
      <li><a href="/api/peptalk/ENTJ">/api/peptalk/ENTJ</a> - Leader, ENTJ pep talk</li>
      <li><a href="/api/peptalk/INFP">/api/peptalk/INFP</a> - Dreamer, INFP pep talk</li>
      <li><a href="/api/peptalk/ENFP">/api/peptalk/ENFP</a> - Enthusiast, ENFP pep talk</li>
      <li><a href="/api/peptalk/ISFP">/api/peptalk/ISFP</a> - Artist, ISFP pep talk</li>
      <li><a href="/api/peptalk/ESFP">/api/peptalk/ESFP</a> - Performer, ESFP pep talk</li>
      <li><a href="/api/peptalk/INTP">/api/peptalk/INTP</a> - Thinker, INTP pep talk</li>
      <li><a href="/api/peptalk/ISFJ">/api/peptalk/ISFJ</a> - Defender, ISFJ pep talk</li>
      <li><a href="/api/peptalk/ESFJ">/api/peptalk/ESFJ</a> - Caregiver, ESFJ pep talk</li>
      <li><a href="/api/peptalk/ISTJ">/api/peptalk/ISTJ</a> - Logistician, ISTJ pep talk</li>
      <li><a href="/api/peptalk/ESTJ">/api/peptalk/ESTJ</a> - Executive, ESTJ pep talk</li>
      <li><a href="/api/peptalk/ISTP">/api/peptalk/ISTP</a> - Virtuoso, ISTP pep talk</li>
      <li><a href="/api/peptalk/ESTP">/api/peptalk/ESTP</a> - Entrepreneur, ESTP pep talk</li>
    </ul>
    <p>Replace the MBTI type in the URL to see the advice for that type.</p>
  `);
});

// Start the server
// export const handler = serverless(api);
module.exports.handler = serverless(app);